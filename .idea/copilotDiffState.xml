<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/pom.xml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/pom.xml" />
              <option name="originalContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&#10;         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;&#10;    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&#10;&#10;    &lt;parent&gt;&#10;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;&#10;        &lt;version&gt;3.3.0&lt;/version&gt;&#10;        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;&#10;    &lt;/parent&gt;&#10;&#10;    &lt;groupId&gt;com.example&lt;/groupId&gt;&#10;    &lt;artifactId&gt;wallet-api&lt;/artifactId&gt;&#10;    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;&#10;&#10;    &lt;properties&gt;&#10;        &lt;java.version&gt;17&lt;/java.version&gt;&#10;        &lt;jwt.version&gt;0.12.5&lt;/jwt.version&gt;&#10;        &lt;springdoc.version&gt;2.3.0&lt;/springdoc.version&gt;&#10;    &lt;/properties&gt;&#10;&#10;    &lt;dependencies&gt;&#10;        &lt;!-- Spring starters --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- JWT (io.jsonwebtoken) --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;&#10;            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;&#10;            &lt;version&gt;${jwt.version}&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;&#10;            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;&#10;            &lt;version&gt;${jwt.version}&lt;/version&gt;&#10;            &lt;scope&gt;runtime&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;&#10;            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;&#10;            &lt;version&gt;${jwt.version}&lt;/version&gt;&#10;            &lt;scope&gt;runtime&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- DB driver --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;com.mysql&lt;/groupId&gt;&#10;            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;&#10;            &lt;version&gt;8.3.0&lt;/version&gt;&#10;            &lt;scope&gt;runtime&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Lombok (opcional, ayuda a reducir boilerplate) --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&#10;            &lt;artifactId&gt;lombok&lt;/artifactId&gt;&#10;            &lt;optional&gt;true&lt;/optional&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- OpenAPI / Swagger UI --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;&#10;            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;&#10;            &lt;version&gt;${springdoc.version}&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Tests --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&#10;            &lt;scope&gt;test&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;    &lt;/dependencies&gt;&#10;&#10;    &lt;build&gt;&#10;        &lt;plugins&gt;&#10;            &lt;plugin&gt;&#10;                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&#10;                &lt;configuration&gt;&#10;                    &lt;excludes&gt;&#10;                        &lt;exclude&gt;&#10;                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&#10;                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;&#10;                        &lt;/exclude&gt;&#10;                    &lt;/excludes&gt;&#10;                &lt;/configuration&gt;&#10;            &lt;/plugin&gt;&#10;        &lt;/plugins&gt;&#10;    &lt;/build&gt;&#10;&#10;&lt;/project&gt;&#10;" />
              <option name="updatedContent" value="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&#10;         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;&#10;    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;&#10;&#10;    &lt;parent&gt;&#10;        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;&#10;        &lt;version&gt;3.3.0&lt;/version&gt;&#10;        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;&#10;    &lt;/parent&gt;&#10;&#10;    &lt;groupId&gt;com.alejandro.microservices&lt;/groupId&gt;&#10;    &lt;artifactId&gt;api_wallet&lt;/artifactId&gt;&#10;    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;&#10;&#10;    &lt;properties&gt;&#10;        &lt;java.version&gt;17&lt;/java.version&gt;&#10;        &lt;jwt.version&gt;0.12.5&lt;/jwt.version&gt;&#10;        &lt;springdoc.version&gt;2.3.0&lt;/springdoc.version&gt;&#10;    &lt;/properties&gt;&#10;&#10;    &lt;dependencies&gt;&#10;        &lt;!-- Spring starters --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- JWT (io.jsonwebtoken) --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;&#10;            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;&#10;            &lt;version&gt;${jwt.version}&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;&#10;            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;&#10;            &lt;version&gt;${jwt.version}&lt;/version&gt;&#10;            &lt;scope&gt;runtime&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;&#10;            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;&#10;            &lt;version&gt;${jwt.version}&lt;/version&gt;&#10;            &lt;scope&gt;runtime&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- DB driver --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;com.mysql&lt;/groupId&gt;&#10;            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;&#10;            &lt;version&gt;8.3.0&lt;/version&gt;&#10;            &lt;scope&gt;runtime&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Lombok (opcional, ayuda a reducir boilerplate) --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&#10;            &lt;artifactId&gt;lombok&lt;/artifactId&gt;&#10;            &lt;optional&gt;true&lt;/optional&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- OpenAPI / Swagger UI --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;&#10;            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;&#10;            &lt;version&gt;${springdoc.version}&lt;/version&gt;&#10;        &lt;/dependency&gt;&#10;&#10;        &lt;!-- Tests --&gt;&#10;        &lt;dependency&gt;&#10;            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;&#10;            &lt;scope&gt;test&lt;/scope&gt;&#10;        &lt;/dependency&gt;&#10;    &lt;/dependencies&gt;&#10;&#10;    &lt;build&gt;&#10;        &lt;plugins&gt;&#10;            &lt;plugin&gt;&#10;                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;&#10;                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;&#10;                &lt;configuration&gt;&#10;                    &lt;excludes&gt;&#10;                        &lt;exclude&gt;&#10;                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;&#10;                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;&#10;                        &lt;/exclude&gt;&#10;                    &lt;/excludes&gt;&#10;                &lt;/configuration&gt;&#10;            &lt;/plugin&gt;&#10;        &lt;/plugins&gt;&#10;    &lt;/build&gt;&#10;&#10;&lt;/project&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/alejandro/microservices/api_wallet/wallet/config/package-info.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/alejandro/microservices/api_wallet/wallet/config/package-info.java" />
              <option name="originalContent" value="package com.alejandro.microservices.api_wallet.wallet.config;&#10;&#10;" />
              <option name="updatedContent" value="package com.alejandro.microservices.api_wallet.wallet.config;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/alejandro/microservices/api_wallet/wallet/controller/package-info.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/alejandro/microservices/api_wallet/wallet/controller/package-info.java" />
              <option name="originalContent" value="package com.alejandro.microservices.api_wallet.wallet.controller;&#10;&#10;" />
              <option name="updatedContent" value="package com.alejandro.microservices.api_wallet.wallet.controller;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/alejandro/microservices/api_wallet/wallet/dto/package-info.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/alejandro/microservices/api_wallet/wallet/dto/package-info.java" />
              <option name="originalContent" value="package com.alejandro.microservices.api_wallet.wallet.dto;&#10;&#10;" />
              <option name="updatedContent" value="package com.alejandro.microservices.api_wallet.wallet.dto;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/alejandro/microservices/api_wallet/wallet/entity/Role.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/alejandro/microservices/api_wallet/wallet/entity/Role.java" />
              <option name="originalContent" value="package com.alejandro.microservices.api_wallet.wallet.entity;&#10;&#10;import jakarta.persistence.*;&#10;import lombok.*;&#10;&#10;import java.util.HashSet;&#10;import java.util.Set;&#10;&#10;@Entity&#10;@Table(name = &quot;roles&quot;)&#10;@Getter&#10;@Setter&#10;@ToString(exclude = &quot;users&quot;)&#10;@EqualsAndHashCode(exclude = &quot;users&quot;)&#10;@NoArgsConstructor&#10;@AllArgsConstructor&#10;public class Role {&#10;    @Id&#10;    @GeneratedValue(strategy = GenerationType.IDENTITY)&#10;    private Long id;&#10;&#10;    @Enumerated(EnumType.STRING)&#10;    @Column(unique = true, nullable = false)&#10;    private RoleName name;&#10;&#10;    @ManyToMany(mappedBy = &quot;roles&quot;)&#10;    private Set&lt;User&gt; users = new HashSet&lt;&gt;();&#10;&#10;    public enum RoleName {&#10;        ROLE_USER,&#10;        ROLE_ADMIN&#10;    }&#10;}&#10;" />
              <option name="updatedContent" value="package com.alejandro.microservices.api_wallet.wallet.entity;&#10;&#10;import jakarta.persistence.*;&#10;import lombok.*;&#10;&#10;import java.util.HashSet;&#10;import java.util.Set;&#10;&#10;@Entity&#10;@Table(name = &quot;roles&quot;)&#10;@Getter&#10;@Setter&#10;@ToString(exclude = &quot;users&quot;)&#10;@EqualsAndHashCode(exclude = &quot;users&quot;)&#10;@NoArgsConstructor&#10;public class Role {&#10;    @Id&#10;    @GeneratedValue(strategy = GenerationType.IDENTITY)&#10;    private Long id;&#10;&#10;    @Enumerated(EnumType.STRING)&#10;    @Column(unique = true, nullable = false)&#10;    private RoleName name;&#10;&#10;    @ManyToMany(mappedBy = &quot;roles&quot;)&#10;    private Set&lt;User&gt; users = new HashSet&lt;&gt;();&#10;&#10;    public Role(RoleName name) {&#10;        this.name = name;&#10;    }&#10;&#10;    public enum RoleName {&#10;        ROLE_USER,&#10;        ROLE_ADMIN&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/alejandro/microservices/api_wallet/wallet/entity/Transaction.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/alejandro/microservices/api_wallet/wallet/entity/Transaction.java" />
              <option name="updatedContent" value="package com.alejandro.microservices.api_wallet.wallet.entity;&#10;&#10;import jakarta.persistence.*;&#10;import lombok.*;&#10;import java.math.BigDecimal;&#10;import java.time.Instant;&#10;&#10;@Entity&#10;@Table(name = &quot;transactions&quot;)&#10;@Getter&#10;@Setter&#10;@ToString(exclude = {&quot;walletFrom&quot;, &quot;walletTo&quot;})&#10;@EqualsAndHashCode(exclude = {&quot;walletFrom&quot;, &quot;walletTo&quot;})&#10;@NoArgsConstructor&#10;public class Transaction {&#10;    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)&#10;    private Long id;&#10;&#10;    @ManyToOne(fetch = FetchType.LAZY)&#10;    @JoinColumn(name = &quot;wallet_from&quot;)&#10;    private Wallet walletFrom; // nullable for DEPOSIT&#10;&#10;    @ManyToOne(fetch = FetchType.LAZY)&#10;    @JoinColumn(name = &quot;wallet_to&quot;)&#10;    private Wallet walletTo;   // nullable for WITHDRAW&#10;&#10;    @Column(nullable = false)&#10;    private BigDecimal amount;&#10;&#10;    @Enumerated(EnumType.STRING)&#10;    @Column(nullable = false)&#10;    private TransactionType type;&#10;&#10;    @Enumerated(EnumType.STRING)&#10;    @Column(nullable = false)&#10;    private TransactionStatus status;&#10;&#10;    private Instant createdAt = Instant.now();&#10;&#10;    private String description;&#10;&#10;    @Column(unique = true)&#10;    private String clientTransferId; // optional for idempotency&#10;&#10;    public enum TransactionType {&#10;        DEPOSIT, WITHDRAWAL, TRANSFER&#10;    }&#10;&#10;    public enum TransactionStatus {&#10;        PENDING, SUCCESS, FAILED&#10;    }&#10;&#10;    public Transaction(Wallet walletFrom, Wallet walletTo, BigDecimal amount, TransactionType type) {&#10;        this.walletFrom = walletFrom;&#10;        this.walletTo = walletTo;&#10;        this.amount = amount;&#10;        this.type = type;&#10;        this.status = TransactionStatus.PENDING;&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/alejandro/microservices/api_wallet/wallet/entity/User.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/alejandro/microservices/api_wallet/wallet/entity/User.java" />
              <option name="originalContent" value="package com.alejandro.microservices.api_wallet.wallet.entity;&#10;&#10;import jakarta.persistence.*;&#10;import lombok.*;&#10;import java.time.Instant;&#10;import java.util.HashSet;&#10;import java.util.Set;&#10;&#10;@Entity&#10;@Table(name = &quot;users&quot;)&#10;@Getter&#10;@Setter&#10;@ToString(exclude = &quot;roles&quot;)&#10;@EqualsAndHashCode(exclude = &quot;roles&quot;)&#10;@NoArgsConstructor&#10;@AllArgsConstructor&#10;public class User {&#10;    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)&#10;    private Long id;&#10;&#10;    private String fullName;&#10;&#10;    @Column(unique = true, nullable = false)&#10;    private String email;&#10;&#10;    @Column(nullable = false)&#10;    private String password; // hashed&#10;&#10;    @ManyToMany(fetch = FetchType.EAGER)&#10;    @JoinTable(name = &quot;user_roles&quot;,&#10;        joinColumns = @JoinColumn(name = &quot;user_id&quot;),&#10;        inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))&#10;    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();&#10;&#10;    private Instant createdAt = Instant.now();&#10;}&#10;" />
              <option name="updatedContent" value="package com.alejandro.microservices.api_wallet.wallet.entity;&#10;&#10;import jakarta.persistence.*;&#10;import lombok.*;&#10;import java.time.Instant;&#10;import java.util.HashSet;&#10;import java.util.Set;&#10;&#10;@Entity&#10;@Table(name = &quot;users&quot;)&#10;@Getter&#10;@Setter&#10;@ToString(exclude = &quot;roles&quot;)&#10;@EqualsAndHashCode(exclude = &quot;roles&quot;)&#10;@NoArgsConstructor&#10;public class User {&#10;    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)&#10;    private Long id;&#10;&#10;    private String fullName;&#10;&#10;    @Column(unique = true, nullable = false)&#10;    private String email;&#10;&#10;    @Column(nullable = false)&#10;    private String password; // hashed&#10;&#10;    @ManyToMany(fetch = FetchType.EAGER, cascade = CascadeType.ALL)&#10;    @JoinTable(name = &quot;user_roles&quot;,&#10;            joinColumns = @JoinColumn(name = &quot;user_id&quot;),&#10;            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))&#10;    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();&#10;&#10;    private Instant createdAt = Instant.now();&#10;&#10;    public User(String fullName, String email, String password) {&#10;        this.fullName = fullName;&#10;        this.email = email;&#10;        this.password = password;&#10;    }&#10;&#10;    public void addRole(Role role) {&#10;        roles.add(role);&#10;        role.getUsers().add(this);&#10;    }&#10;&#10;    public void removeRole(Role role) {&#10;        roles.remove(role);&#10;        role.getUsers().remove(this);&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/alejandro/microservices/api_wallet/wallet/entity/Wallet.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/alejandro/microservices/api_wallet/wallet/entity/Wallet.java" />
              <option name="updatedContent" value="package com.alejandro.microservices.api_wallet.wallet.entity;&#10;&#10;import jakarta.persistence.*;&#10;import lombok.*;&#10;import java.math.BigDecimal;&#10;import java.time.Instant;&#10;&#10;@Entity&#10;@Table(name = &quot;wallets&quot;)&#10;@Getter&#10;@Setter&#10;@ToString(exclude = &quot;user&quot;)&#10;@EqualsAndHashCode(exclude = &quot;user&quot;)&#10;@NoArgsConstructor&#10;public class Wallet {&#10;    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)&#10;    private Long id;&#10;&#10;    @ManyToOne(fetch = FetchType.LAZY)&#10;    @JoinColumn(name = &quot;user_id&quot;, nullable = false)&#10;    private User user;&#10;&#10;    @Column(nullable = false)&#10;    private BigDecimal balance = BigDecimal.ZERO;&#10;&#10;    private String currency = &quot;COP&quot;;&#10;&#10;    private Instant createdAt = Instant.now();&#10;&#10;    public Wallet(User user, String currency) {&#10;        this.user = user;&#10;        this.currency = currency;&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/alejandro/microservices/api_wallet/wallet/repository/RoleRepository.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/alejandro/microservices/api_wallet/wallet/repository/RoleRepository.java" />
              <option name="updatedContent" value="package com.alejandro.microservices.api_wallet.wallet.repository;&#10;&#10;import com.alejandro.microservices.api_wallet.wallet.entity.Role;&#10;import org.springframework.data.jpa.repository.JpaRepository;&#10;import java.util.Optional;&#10;&#10;public interface RoleRepository extends JpaRepository&lt;Role, Long&gt; {&#10;    Optional&lt;Role&gt; findByName(Role.RoleName name);&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/alejandro/microservices/api_wallet/wallet/repository/TransactionRepository.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/alejandro/microservices/api_wallet/wallet/repository/TransactionRepository.java" />
              <option name="updatedContent" value="package com.alejandro.microservices.api_wallet.wallet.repository;&#10;&#10;import com.alejandro.microservices.api_wallet.wallet.entity.Transaction;&#10;import org.springframework.data.domain.Page;&#10;import org.springframework.data.domain.Pageable;&#10;import org.springframework.data.jpa.repository.JpaRepository;&#10;&#10;public interface TransactionRepository extends JpaRepository&lt;Transaction, Long&gt; {&#10;    Page&lt;Transaction&gt; findByWalletFromIdOrWalletToId(Long fromId, Long toId, Pageable pageable);&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/alejandro/microservices/api_wallet/wallet/repository/UserRepository.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/alejandro/microservices/api_wallet/wallet/repository/UserRepository.java" />
              <option name="updatedContent" value="package com.alejandro.microservices.api_wallet.wallet.repository;&#10;&#10;import com.alejandro.microservices.api_wallet.wallet.entity.User;&#10;import org.springframework.data.jpa.repository.JpaRepository;&#10;import java.util.Optional;&#10;&#10;public interface UserRepository extends JpaRepository&lt;User, Long&gt; {&#10;    Optional&lt;User&gt; findByEmail(String email);&#10;    boolean existsByEmail(String email);&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/alejandro/microservices/api_wallet/wallet/repository/WalletRepository.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/alejandro/microservices/api_wallet/wallet/repository/WalletRepository.java" />
              <option name="originalContent" value="&#10;@Repository&#10;public interface WalletRepository extends JpaRepository&lt;Wallet, Long&gt; {&#10;    @Lock(LockModeType.PESSIMISTIC_WRITE)&#10;    @Query(&quot;select w from Wallet w where w.id = :id&quot;)&#10;    Optional&lt;Wallet&gt; findByIdForUpdate(@Param(&quot;id&quot;) Long id);&#10;&#10;    List&lt;Wallet&gt; findByUserId(Long userId);&#10;}" />
              <option name="updatedContent" value="package com.alejandro.microservices.api_wallet.wallet.repository;&#10;&#10;import com.alejandro.microservices.api_wallet.wallet.entity.Wallet;&#10;import org.springframework.data.jpa.repository.*;&#10;import org.springframework.data.repository.query.Param;&#10;import org.springframework.stereotype.Repository;&#10;import jakarta.persistence.LockModeType;&#10;import java.util.Optional;&#10;import java.util.List;&#10;&#10;@Repository&#10;public interface WalletRepository extends JpaRepository&lt;Wallet, Long&gt; {&#10;    @Lock(LockModeType.PESSIMISTIC_WRITE)&#10;    @Query(&quot;select w from Wallet w where w.id = :id&quot;)&#10;    Optional&lt;Wallet&gt; findByIdForUpdate(@Param(&quot;id&quot;) Long id);&#10;&#10;    List&lt;Wallet&gt; findByUserId(Long userId);&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/example/wallet/config/package-info.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/example/wallet/config/package-info.java" />
              <option name="updatedContent" value="package com.example.wallet.config;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/example/wallet/controller/package-info.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/example/wallet/controller/package-info.java" />
              <option name="updatedContent" value="package com.example.wallet.controller;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/example/wallet/dto/package-info.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/example/wallet/dto/package-info.java" />
              <option name="updatedContent" value="package com.example.wallet.dto;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/example/wallet/entity/package-info.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/example/wallet/entity/package-info.java" />
              <option name="updatedContent" value="package com.example.wallet.entity;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/example/wallet/exception/package-info.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/example/wallet/exception/package-info.java" />
              <option name="updatedContent" value="package com.example.wallet.exception;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/example/wallet/repository/package-info.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/example/wallet/repository/package-info.java" />
              <option name="updatedContent" value="package com.example.wallet.repository;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/example/wallet/security/package-info.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/example/wallet/security/package-info.java" />
              <option name="updatedContent" value="package com.example.wallet.security;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/example/wallet/service/package-info.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/example/wallet/service/package-info.java" />
              <option name="updatedContent" value="package com.example.wallet.service;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/com/example/wallet/util/package-info.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/com/example/wallet/util/package-info.java" />
              <option name="updatedContent" value="package com.example.wallet.util;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/resources/application.properties">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/resources/application.properties" />
              <option name="originalContent" value="# Database Configuration&#10;spring.datasource.url=jdbc:mysql://localhost:3306/wallet_db?useSSL=false&amp;serverTimezone=UTC&amp;allowPublicKeyRetrieval=true&#10;spring.datasource.username=root&#10;spring.datasource.password=root&#10;spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver&#10;&#10;# JPA/Hibernate Properties&#10;spring.jpa.hibernate.ddl-auto=update&#10;spring.jpa.show-sql=true&#10;spring.jpa.properties.hibernate.format_sql=true&#10;spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect&#10;&#10;# JWT Configuration&#10;jwt.secret=tu_clave_secreta_muy_larga_y_segura_para_firmar_tokens_jwt&#10;jwt.expiration=86400000&#10;&#10;# Server Configuration&#10;server.port=8080&#10;&#10;# Logging Configuration&#10;logging.level.root=INFO&#10;" />
              <option name="updatedContent" value="# Database Configuration&#10;spring.datasource.url=jdbc:mysql://localhost:3306/wallet_db?createDatabaseIfNotExist=true&amp;useSSL=false&amp;serverTimezone=UTC&amp;allowPublicKeyRetrieval=true&#10;spring.datasource.username=root&#10;spring.datasource.password=root&#10;spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver&#10;&#10;# JPA/Hibernate Properties&#10;spring.jpa.hibernate.ddl-auto=update&#10;spring.jpa.show-sql=true&#10;spring.jpa.properties.hibernate.format_sql=true&#10;spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect&#10;&#10;# JWT Configuration&#10;jwt.secret=tu_clave_secreta_muy_larga_y_segura_para_firmar_tokens_jwt&#10;jwt.expiration=86400000&#10;&#10;# Server Configuration&#10;server.port=8080&#10;&#10;# Logging Configuration&#10;logging.level.root=INFO" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>